---
layout: page
group: 20
level: 1
title: 10.3  Retrieving the prototype of a resource kind
---

The prototype of a resource kind is intimately related to the <u>representation</u> of a resource.  This means 
that it is possible to have several prototypes, each describing individual representations of a resource. 
This is easy to see when looking at the differences between a feed of resources and an individual
resource: in the first case the information is succinct, while in the second it would be rather extensive. 
Another example is the prototype for a representation of a resource in a mobile context (where 
bandwidth and screen area are prime assets) compared with that for a desktop or full-browser client.
 
Prototypes are reasonably static.  This means that they should be retrieved once, cached and then 
applied many times.  Consequently, a versioning mechanism (eTag or <tt>modifiedDate</tt>) would greatly 
benefit the client-side handling of prototype and therefore providers SHOULD support such a 
mechanism.

Section 4 of this document described the means for retrieving prototypes.  The remainder of this section 
provides more details on retrieving multiple prototypes via links.

For example:

*  GET http://www.example.com/sdata/MyApp/myContract/-/$prototypes/addresses 

would provide a response similar to:

<pre>
{
    "$baseURL" : "http://www.example.com/sdata/MyApp/-/-", 
    "$url" : "{$baseURL}/prototypes/addresses",
    "$title" : "all Address prototypes", 
    "$resources" : [ 
        {
            "$id": "detail",
            "$prototype": {
                "$url" : "{$baseURL}/addresses('{$ID}')",
                "$properties": {
                    "ID": {
                        "$title": "AddressId",
                        "$type": "sdata/integer",
                        "$isMandatory": true
                    }
                },
                "...": "...",
                "$links": {
                    "$prototype": {
                        "$id": "detail", 
                        "$url": "{$baseURL}/prototypes/addresses('{$id}')",
                        "$title": "Customer address prototype"
                    }
                }
            }
        },
        { 
            "$id": "list",
            "$prototype": {
                "$url" : "{$baseURL}/addresses('{$ID}')",
                "$properties": {
                    "ID": {
                        "$title": "AddressId",
                        "$type": "sdata/integer",
                        "$isMandatory": true
                    }
                },
                "...": "...",
                "$links": {
                    "$prototype": {
                        "$id": "list", 
                        "$url": "{$baseURL}/prototypes/addresses('{$id}')",
                        "$title": "Customer address feed"
                    }
                }
            }
        }
    ]
} 
</pre>

The GET operation on the reserved $prototypes segment will return links to all the prototypes exposed 
by the application. The returned payload contains:

*  One array property for every resource kind where prototypes are available; 
*  The array element contains at least the following properties pertaining to the prototype: 
    *  $url
    *  $resourceKind 
    *  $id
    *  $title

Example:

*  GET http://www.example.com/sdata/MyApp/-/-/$prototypes 

Would return a payload similar to: 

<pre>
{
    "$baseURL" : "http://www.example.com/sdata/MyApp/-/-", 
    "$title" : "Links to all prototypes",
    "$totalResults" : 32,
    "$startIndex" : 1,
    "$itemsPerPage" : 10,
    "$resources" : [ 
        {
            "$title" : "Address entry prototype",
            "$resourceKind" : "address", 
            "$url" : "{$baseURL}/prototypes/addresses('detail')",
            "$id" : "detail"
        }, 
        {
            "$title" : "Address feed prototype",
            "$resourceKind" : "addresses", 
            "$url" : "{$baseURL}/prototypes/addresses('list')",
            "$id" : "list"
        }, 
        { 
            "$title" : "Customer entry prototype",
            "$resourceKind" : "customer", 
            "$url" : "{$baseURL}/prototypes/customers('detail')",
            "$id" : "detail"
        }, 
        { 
            "$title" : "Customer feed prototype",
            "$resourceKind" : "customers", 
            "$url" : "{$baseURL}/prototypes/customers('list')",
            "$id" : "list"
        }
    ] 
}
</pre>

***